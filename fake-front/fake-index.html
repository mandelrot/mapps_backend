<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <style>
    body { font-family: Verdana, Geneva, Tahoma, sans-serif; }
    .button { padding: 1em; border: 2px solid black; border-radius: 0.7em; margin: 8em; cursor: pointer; }
  </style>
  <title>Fake front to test the backend server module</title>
</head>

<body>
  <h1 style="margin: 1em 0 2em 1em;">Fake front connected</h1>


  <span class="button" onclick="emitEvent({operation: 'button clicked'})">Emit event</span>


  <script>
    const appId = 'Fake front'; // The id will be stored in a .js file the backend accessible from the backend too
  </script>
  
  <script src="/socket.io/socket.io.js"></script>
  <script> const socket = io(); </script>
  <script>
    socket.on('connect', () => {
      // Here we would check login id, bring the data to build the pages and so on
      emitEvent({operation: 'retrieve initial data'})
    });

    function emitEvent(message) {
      socket.emit('msgFromApp', { appId, message});
    }

    // Spontaneous message from backend (not triggered by an user request)
    socket.on('msgFromBackend', (message) => console.log (message));
  </script>

</body>
</html>